# Ubuntu 24 æœåŠ¡å™¨è‡ªåŠ¨åŒ–å·¥å…·é›†

ä¸€ä¸ªæ¨¡å—åŒ–ã€å¯æ‰©å±•çš„ Ubuntu æœåŠ¡å™¨ç®¡ç†è‡ªåŠ¨åŒ–å·¥å…·é›†ï¼Œæä¾›äº¤äº’å¼èœå•ï¼Œç®€åŒ–æœåŠ¡å™¨é…ç½®ã€è½¯ä»¶å®‰è£…å’Œæ—¥å¸¸ç»´æŠ¤ä»»åŠ¡ã€‚

## ğŸš€ ç‰¹æ€§

- **æ¨¡å—åŒ–è®¾è®¡**ï¼šåŠŸèƒ½åˆ†ç¦»æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
- **äº¤äº’å¼èœå•**ï¼šå‹å¥½çš„å‘½ä»¤è¡Œç•Œé¢ï¼Œæ— éœ€è®°å¿†å¤æ‚å‘½ä»¤
- **åŠ¨æ€è„šæœ¬å‘ç°**ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶å±•ç¤ºå¯ç”¨çš„å®‰è£…è„šæœ¬å’Œé…ç½®ä»»åŠ¡
- **å…¨éƒ¨å®‰è£…**ï¼šæ”¯æŒä¸€é”®å®‰è£…æ‰€æœ‰è½¯ä»¶
- **è‡ªåŠ¨æƒé™ç®¡ç†**ï¼šé¦–æ¬¡è¿è¡Œè‡ªåŠ¨è®¾ç½®è„šæœ¬æ‰§è¡Œæƒé™

## ğŸ“ é¡¹ç›®ç»“æ„

```
server-cat/
â”œâ”€â”€ main.sh                 # ğŸš€ ä¸»å…¥å£è„šæœ¬ï¼ˆäº¤äº’å¼èœå•ï¼‰
â”œâ”€â”€ lib/                    # å·¥å…·å‡½æ•°åº“
â”‚   â””â”€â”€ utils.sh           # é€šç”¨å·¥å…·å‡½æ•°
â”œâ”€â”€ modules/                # é…ç½®æ¨¡å—
â”‚   â”œâ”€â”€ firewall.sh        # UFW é˜²ç«å¢™é…ç½®
â”‚   â”œâ”€â”€ user_config.sh     # ç”¨æˆ·ç®¡ç†ï¼ˆåˆ›å»º sudo ç”¨æˆ·ï¼‰
â”‚   â”œâ”€â”€ ssh_config.sh      # SSH é…ç½®
â”‚   â”œâ”€â”€ init_user_dirs.sh  # åˆå§‹åŒ–ç”¨æˆ·ç›®å½•
â”‚   â”œâ”€â”€ backup_setup.sh    # å¤‡ä»½é…ç½®
â”‚   â””â”€â”€ certbot_renew.sh   # Certbot ç»­æœŸè®¾ç½®
â”œâ”€â”€ softwares/              # è½¯ä»¶å®‰è£…è„šæœ¬
â”‚   â”œâ”€â”€ install_docker.sh  # Docker å®‰è£…
â”‚   â”œâ”€â”€ install_nginx.sh   # Nginx å®‰è£…
â”‚   â””â”€â”€ install_certbot.sh # Certbot å®‰è£…
â””â”€â”€ scripts/                # æœåŠ¡å™¨è¾…åŠ©è„šæœ¬
    â””â”€â”€ certbot-renew.sh   # SSL è¯ä¹¦è‡ªåŠ¨ç»­æœŸè„šæœ¬
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹

1. **ä¸‹è½½é¡¹ç›®åˆ°æœåŠ¡å™¨**

```bash
cd ~
wget <é¡¹ç›®åœ°å€>
# æˆ–ä½¿ç”¨ git clone
# git clone <repo-url> server-cat
```

2. **è¿›å…¥é¡¹ç›®ç›®å½•å¹¶è¿è¡Œ**

```bash
cd server-cat
sudo ./main.sh
```

é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨è®¾ç½®æ‰€æœ‰è„šæœ¬çš„æ‰§è¡Œæƒé™ã€‚

### ä¸»èœå•

```
=====================================
    Ubuntu 24 æœåŠ¡å™¨è‡ªåŠ¨åŒ–å·¥å…·é›†
=====================================
1. å®‰è£…å¸¸ç”¨è½¯ä»¶
2. å¸¸ç”¨è®¾ç½®
3. æ‰§è¡ŒæœåŠ¡å™¨è„šæœ¬
0. é€€å‡º
-------------------------------------
```

### èœå•è¯´æ˜

#### 1ï¸âƒ£ å®‰è£…å¸¸ç”¨è½¯ä»¶

```
=====================================
    ğŸ“¦ å®‰è£…å¸¸ç”¨è½¯ä»¶
=====================================
1. å…¨éƒ¨å®‰è£…
2. Docker
3. Nginx
4. Certbot (SSLè¯ä¹¦)
0. è¿”å›ä¸»èœå•
```

- **å…¨éƒ¨å®‰è£…**ï¼šæŒ‰é¡ºåºè‡ªåŠ¨å®‰è£…æ‰€æœ‰è½¯ä»¶ï¼Œå®Œæˆåæ˜¾ç¤ºç»Ÿè®¡ç»“æœ

#### 2ï¸âƒ£ å¸¸ç”¨è®¾ç½®

```
=====================================
    ğŸ”§ å¸¸ç”¨è®¾ç½®
=====================================
1. é…ç½®é˜²ç«å¢™
2. åˆ›å»º Sudo ç”¨æˆ·
3. é…ç½® SSH
4. é…ç½®å¤‡ä»½
5. åˆå§‹åŒ–ç”¨æˆ·ç›®å½•
0. è¿”å›ä¸»èœå•
```

#### 3ï¸âƒ£ æ‰§è¡ŒæœåŠ¡å™¨è„šæœ¬

è¿è¡ŒæœåŠ¡å™¨è¾…åŠ©è„šæœ¬ï¼ˆå¦‚è¯ä¹¦ç»­æœŸç­‰ï¼‰ã€‚

## ğŸ”§ æ‰©å±•åŠŸèƒ½

### æ·»åŠ è½¯ä»¶å®‰è£…è„šæœ¬

åœ¨ `softwares/` ç›®å½•ä¸‹åˆ›å»ºè„šæœ¬æ–‡ä»¶ï¼š

```bash
#!/bin/bash
# è½¯ä»¶æè¿°

MENU_NAME="æ˜¾ç¤ºåç§°"

set -eo pipefail

SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )"
source "$SCRIPT_DIR/../lib/utils.sh"

print_step "[1/2] æ›´æ–° apt..."
apt-get update -qq

print_step "[2/2] å®‰è£…è½¯ä»¶..."
apt-get install -y è½¯ä»¶å

print_success "âœ… å®‰è£…æˆåŠŸ"
exit 0
```

### æ·»åŠ é…ç½®æ¨¡å—

åœ¨ `modules/` ç›®å½•ä¸‹åˆ›å»ºè„šæœ¬æ–‡ä»¶ï¼š

```bash
#!/bin/bash
# æ¨¡å—æè¿°

MENU_NAME="æ˜¾ç¤ºåç§°"
MENU_FUNC="your_function_name"

function your_function_name() {
    print_step "â–¶ï¸  é…ç½®è¯´æ˜..."

    # é…ç½®é€»è¾‘
    ...
}
```

## ğŸ¯ è„šæœ¬ç¼–å†™è§„èŒƒ

| è§„èŒƒ | è¯´æ˜ |
|------|------|
| Shebang | `#!/bin/bash` |
| å˜é‡ | å…¨å±€å¤§å†™ `SCRIPT_DIR`ï¼Œå±€éƒ¨å°å†™ `local name` |
| é”™è¯¯å¤„ç† | ç‹¬ç«‹è„šæœ¬ä½¿ç”¨ `set -eo pipefail` |
| è¾“å‡ºå‡½æ•° | `print_step`ã€`print_success`ã€`print_error`ã€`print_warning`ã€`print_info` |
| è¯­è¨€ | æ‰€æœ‰ç”¨æˆ·å¯è§ä¿¡æ¯ä½¿ç”¨ä¸­æ–‡ |

### è¾“å‡ºå‡½æ•°è¯´æ˜

```bash
print_step "æ­¥éª¤æ ‡é¢˜"      # é»„è‰²ï¼Œå¸¦æ¢è¡Œ
print_success "âœ“ æˆåŠŸ"     # ç»¿è‰²
print_error "âœ— å¤±è´¥"       # çº¢è‰²
print_warning "æç¤º"       # é»„è‰²
print_info "ä¿¡æ¯"          # è“è‰²
```

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### åˆå§‹åŒ–æ–°æœåŠ¡å™¨

```bash
sudo ./main.sh

# 1. é€‰æ‹© "å®‰è£…å¸¸ç”¨è½¯ä»¶" â†’ "å…¨éƒ¨å®‰è£…"
# 2. é€‰æ‹© "å¸¸ç”¨è®¾ç½®" â†’ "é…ç½®é˜²ç«å¢™"
# 3. é€‰æ‹© "å¸¸ç”¨è®¾ç½®" â†’ "åˆ›å»º Sudo ç”¨æˆ·"
```

### æ‰¹é‡éƒ¨ç½²è„šæœ¬

```bash
#!/bin/bash
cd /path/to/server-cat

# æ‰§è¡Œé…ç½®æ¨¡å—
source modules/firewall.sh
configure_firewall

# å®‰è£…è½¯ä»¶
bash softwares/install_docker.sh
bash softwares/install_nginx.sh
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **éœ€è¦ root æƒé™**ï¼šæ‰€æœ‰æ“ä½œéƒ½éœ€è¦ä½¿ç”¨ `sudo`
2. **Ubuntu 24 ä¼˜åŒ–**ï¼šé’ˆå¯¹ Ubuntu 24.04 LTS ä¼˜åŒ–
3. **ç½‘ç»œè¿æ¥**ï¼šè½¯ä»¶å®‰è£…éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥

## ğŸ“„ è®¸å¯

MIT License

---

**å¿«é€Ÿå¼€å§‹**ï¼š`sudo ./main.sh` ğŸš€
